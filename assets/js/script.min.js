/* Author:
	@adamcbrewer
*/$(function(e){var t=function(e){e=e||{};var t={init:function(){this._setup()},createAvatar:function(){this.avatar=$("<div>");this.avatar.attr({"class":"person","data-id":e.id,"data-posx":"","data-posy":""}).css({"background-image":"url("+this.profileImg+")"})},_setup:function(){this.createAvatar()},_bindEvents:function(){}};t.profile=e;t.id=e.id;t.name=e.name;t.profileImg=e.profile_image_url;t.init();return t},n={init:function(){this._setup();this.getProfiles()},getProfiles:function(){var e=this,n="https://api.twitter.com/1/users/lookup.json?screen_name="+this.twitterList.join(",")+"&include_entities=true&callback=?",r=[];$.getJSON(n,function(n){r=n;r.forEach(function(n){e.profiles.push(new t(n))});e.placePeopleInOffice()})},placePeopleInOffice:function(){var e=this.floor;this.profiles.forEach(function(t,n){e.append(t.avatar)});this.initDragging()},initDragging:function(){var e=this;this.people=this.floor.find(".person");this.draggable=this.people.draggable({grid:[45,45],containment:"parent",create:function(e,t){},start:function(e,t){},drag:function(e,t){},stop:function(t,n){e.updatePersonData(this).updateProfile(this)}}).data("draggable")},updatePersonData:function(e){var t=parseInt(e.style.top,10),n=parseInt(e.style.left,10);e.setAttribute("data-posx",t);e.setAttribute("data-posy",n);return this},updateProfile:function(e){this.profiles.forEach(function(t){t.id==e.getAttribute("data-id")&&(t.data={x:e.getAttribute("data-posx"),y:e.getAttribute("data-posy")});return})},serialize:function(){var e=this},_setup:function(){this.twitterList=["adamcbrewer","mikemackay","natevan","NeilCarpenter","AsWeb85","gregfindon","di_lucca","dggomes"];this.floor=$("#floor");this.people=[];this.profiles=[]}}.init()}(Site));